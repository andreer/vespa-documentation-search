schema thread {
    document thread {
        field thread_id type string {
            indexing: summary | attribute
        }

        field channel_id type string {
            indexing: summary | attribute
        }

        field user_id type string {
            indexing: summary | attribute
        }

        struct message {
            field text type string {}
            field message_id type string {}
            field user_id type string {}
        }
    }

    fieldset default {
        fields: thread_id, channel_id
    }
}
